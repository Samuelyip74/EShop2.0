{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Users\\\\Samuel\\\\Envs\\\\eshop\\\\frontend\\\\eshop-reactjs\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\Samuel\\\\Envs\\\\eshop\\\\frontend\\\\eshop-reactjs\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch, BrowserRouter, Redirect } from 'react-router-dom';\nimport { Provider, connect } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { auth } from \"./actions\";\nimport ponyApp from \"./reducers\";\nimport PonyNote from \"./components/PonyNote\";\nimport NotFound from \"./components/NotFound\";\nimport Register from \"./components/Register\";\nimport Login from \"./components/Login\";\nlet store = createStore(ponyApp, applyMiddleware(thunk));\n\nclass RootContainerComponent extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.PrivateRoute = (_ref) => {\n      let ChildComponent = _ref.component,\n          rest = _objectWithoutProperties(_ref, [\"component\"]);\n\n      return React.createElement(Route, Object.assign({}, rest, {\n        render: props => {\n          if (this.props.auth.isLoading) {\n            return React.createElement(\"em\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 27\n              },\n              __self: this\n            }, \"Loading...\");\n          } else if (!this.props.auth.isAuthenticated) {\n            return React.createElement(Redirect, {\n              to: \"/login\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 29\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(ChildComponent, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 31\n              },\n              __self: this\n            }));\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }));\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadUser();\n  }\n\n  render() {\n    let PrivateRoute = this.PrivateRoute;\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/\",\n      component: PonyNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      component: Register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: NotFound,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadUser: () => {\n      return dispatch(auth.loadUser());\n    }\n  };\n};\n\nlet RootContainer = connect(mapStateToProps, mapDispatchToProps)(RootContainerComponent);\nexport default class App extends Component {\n  render() {\n    return React.createElement(Provider, {\n      store: store,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(RootContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Samuel/Envs/eshop/frontend/eshop-reactjs/src/App.js"],"names":["React","Component","Route","Switch","BrowserRouter","Redirect","Provider","connect","createStore","applyMiddleware","thunk","auth","ponyApp","PonyNote","NotFound","Register","Login","store","RootContainerComponent","PrivateRoute","ChildComponent","component","rest","props","isLoading","isAuthenticated","componentDidMount","loadUser","render","mapStateToProps","state","mapDispatchToProps","dispatch","RootContainer","App"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Route, Switch, BrowserRouter, Redirect} from 'react-router-dom';\n\nimport { Provider, connect } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport {auth} from \"./actions\";\nimport ponyApp from \"./reducers\";\n\nimport PonyNote from \"./components/PonyNote\";\nimport NotFound from \"./components/NotFound\";\nimport Register from \"./components/Register\";\nimport Login from \"./components/Login\";\n\nlet store = createStore(ponyApp, applyMiddleware(thunk));\n\nclass RootContainerComponent extends Component {\n\n    componentDidMount() {\n        this.props.loadUser();\n    }\n\n    PrivateRoute = ({component: ChildComponent, ...rest}) => {\n        return <Route {...rest} render={props => {\n            if (this.props.auth.isLoading) {\n                return <em>Loading...</em>;\n            } else if (!this.props.auth.isAuthenticated) {\n                return <Redirect to=\"/login\" />;\n            } else {\n                return <ChildComponent {...props} />\n            }\n        }} />\n    }\n\n    render() {\n        let {PrivateRoute} = this;\n        return (\n            <BrowserRouter>\n                <Switch>\n                    <PrivateRoute exact path=\"/\" component={PonyNote} />\n                    <Route exact path=\"/register\" component={Register} />\n                    <Route exact path=\"/login\" component={Login} />\n                    <Route component={NotFound} />\n                </Switch>\n            </BrowserRouter>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        auth: state.auth,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        loadUser: () => {\n            return dispatch(auth.loadUser());\n        }\n    }\n}\n\nlet RootContainer = connect(mapStateToProps, mapDispatchToProps)(RootContainerComponent);\n\nexport default class App extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <RootContainer />\n            </Provider>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}